<div class="modal-backdrop" (click)="close.emit()">
  <div class="modal-panel" (click)="$event.stopPropagation()">
    <div class="modal-content-wrapper">
      <div class="modal-header">
        <div class="modal-image-container">
          <img
            [src]="order().drink.image_url"
            [alt]="order().drink.name"
            class="modal-drink-image"
            onerror="this.src='https://placehold.co/300x300/374151/9ca3af?text=No+Image'"
          />
        </div>

        <div class="modal-title-group">
          <h3 class="modal-title">{{ order().drink.name }}</h3>
          <span class="order-status" [ngClass]="'status-' + order().status">{{
            order().status
          }}</span>
        </div>
      </div>

      <div class="modal-body">
        <p class="modal-description">{{ order().drink.description }}</p>
        <div class="ingredients-section">
          <h4 class="ingredients-title">Ingredients</h4>
          <ul class="ingredients-list">
            @for (ingredient of order().drink.ingredients; track ingredient) {
              <li class="ingredient-item">{{ ingredient }}</li>
            }
          </ul>
        </div>
        <div class="detail-item">
          <span class="detail-label">Ordered At:</span>
          <span class="detail-value">{{
            order().created_at | date: "shortTime"
          }}</span>
        </div>
      </div>
    </div>

    <div class="modal-actions">
      <button class="pd-button secondary" (click)="close.emit()">Close</button>
      @if (order().status === "queued" || order().status === "in-progress") {
        <button class="pd-button danger" (click)="cancelOrder.emit(order().id)">
          Cancel Order
        </button>
      }
    </div>
  </div>
</div>
