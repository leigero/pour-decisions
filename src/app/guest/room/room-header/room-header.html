<div class="header">
  <div class="title-and-share">
    <h1 class="section-title">{{ room()?.name || "Loading..." }}</h1>

    <button
      class="share-button"
      (click)="copyInviteLink()"
      [attr.aria-label]="copyButtonText()"
    >
      <svg
        fill="#FFFFFF"
        width="800px"
        height="800px"
        viewBox="0 0 32 32"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
      >
        <title>share</title>
        <path
          d="M0 25.472q0 2.368 1.664 4.032t4.032 1.664h18.944q2.336 0 4-1.664t1.664-4.032v-8.192l-3.776 3.168v5.024q0 0.8-0.544 1.344t-1.344 0.576h-18.944q-0.8 0-1.344-0.576t-0.544-1.344v-18.944q0-0.768 0.544-1.344t1.344-0.544h9.472v-3.776h-9.472q-2.368 0-4.032 1.664t-1.664 4v18.944zM5.696 19.808q0 2.752 1.088 5.28 0.512-2.944 2.24-5.344t4.288-3.872 5.632-1.664v5.6l11.36-9.472-11.36-9.472v5.664q-2.688 0-5.152 1.056t-4.224 2.848-2.848 4.224-1.024 5.152zM32 22.080v0 0 0z"
        ></path>
      </svg>
    </button>
  </div>
  <div class="user-profile">
    <img
      [src]="guest()!.profile_picture"
      [alt]="guest()!.display_name + 's profile photo'"
      class="profile-photo"
    />
    <span class="user-name">{{ guest()?.display_name }}</span>
    <button class="edit-button" (click)="openEditProfileModal()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
        <path d="m15 5 4 4" />
      </svg>
    </button>
  </div>
</div>
<p class="section-description">{{ room()?.description || "" }}</p>

@if (showEditProfileModal()) {
  <pd-edit-profile-modal
    [guest]="guest()!"
    (close)="closeEditProfileModal()"
    (profileUpdated)="handleProfileUpdate($event)"
  ></pd-edit-profile-modal>
}
